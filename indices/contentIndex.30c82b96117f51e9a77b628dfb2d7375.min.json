{"/":{"title":"Brein","content":"\nSOP: [[project/SOP/Mobile App SOP Development]]\n","lastmodified":"2022-08-21T09:37:50.416968506Z","tags":null},"/project/SOP/Add-new-parameter-Checkin-out-date-on-Building-Detail":{"title":"","content":"# Add new parameter Checkin-out date on Building Detail\n\nStorypoints:: 1\n\n- Add new parameter\n\t- `checkinDate`\n\t- `checkoutDate`\n- Set it as initial checkin-out date on Building Detail ([[Implement Calendar Filters Building Detail (UI)]])","lastmodified":"2022-08-21T09:37:50.416968506Z","tags":null},"/project/SOP/Availability-Badge-Visibility-on-Building-Card-UI":{"title":"","content":"# Availability Badge Visibility on Building Card (UI)\n\nStorypoints:: 1\n\n- Default invisible\n- Only show visibility badge when checkin-out date are selected\n- Keep UI and logic as is\n\n","lastmodified":"2022-08-21T09:37:50.416968506Z","tags":null},"/project/SOP/Availability-Badge-Visibility-on-Mapview-Building-Card-UI":{"title":"","content":"# Availability Badge Visibility on Mapview Building Card (UI)\n\nStorypoints:: 1\n\n- Default invisible\n- Only show visibility badge when checkin-out date are selected\n- Keep UI and logic as is","lastmodified":"2022-08-21T09:37:50.416968506Z","tags":null},"/project/SOP/BE-Phase-1":{"title":"","content":"Phase 1 new order creattion \n\nTotal: 1 Sprint\n\nObjective:\n\n- cleansing model save\n\t- save model\n\t- save admin\n\t- save form\n\t- signa()\n\t- cron()\n\t- graphql\n\t- REST\n- Prepare new schema\n\t- define new structure model order\n\t- after save method\n\t- model or method related to order\n- Prepare schema \"migration\"\n\t- Define diferent existing vs new schema\n\t- how to migrate?\n\nCleansing\n\nSaat ini order setelah save bertanggung jawab kepada banyak hal, yang paling kelihatan adalah, saat order dibuat setidaknya akan terjadi 3 hal ini secara otomatis\n- Membuat model invoice\n- Mengubah model room/room variant status\n- Mengubah tenant model jika memiliki referall\n- dan lainnya yang perlu dicek\n\nSelain mengecek cleansing yang kepada model-model lain yang berubah akibat order tapi harus listing juga fungsi-fungsi yang berdampak kepada order itu sendiri, seperti\n- cron mengubah status order\n- cront yang generate invoice\n- dan lainnya yang perlu dicek\n\nTujuan utama cleansing ini adalah membersihkan model order kepada tangung jawab selain pada dirinya sendiri, sehingga ketika user membuat order, order hanya akan berdampak kepada model, dia tidak lagi akan\n- Membuat model invoice\n- Tidak langsung mengubah room/room variant\n- Tidak langsung mengubah tenant model jika ada referal\n- dan lainnya yang masih perlu dicek\n\nUntuk kondisi yang kedua (listing fungsi di luar order yang memengaruhi order ) hany aperlu dicatat tanpa dibuang, bagaimanapun dalam pengerjaan ini kondisi order yang sudah dibuat sebelumnya masih bisa berjalan dengan baik.\n\n(Untuk bagian ini ekspektasi waktu yang akan dihabiskan minimal 1 hari kerja maksimal 2 hari kerja)\n\nPrepare new schema\n\nDalam fase ini engineer baru memulai untuk mengaudit field/kolom mana saja yang dipertahankan, \"dibuang\", atau ditambah. Konteks dibuang di sini lebih menyerupai menyembunyikan, di sini tujuannya untuk memastikan dahulu data lama tidak berubah dan amsih tersimpan di database, walau secara tampilan di web (entah django atau ND) tidak dimunculkan field terkait.\n\nUntuk yang ditambahkan ini yang akan dikerjakan, mulai spesifik field-field baru dengan kebutuhan SOP baru.\n\nSedangkan yang dipertahankan ada dua kemungkinan:\n- dipertahankan apa adanya\n- dipertahankan dengan perubahan\n\nUntuk yang dipertahankan dengan perubahan, contohnya adalah mengubah nilai kolom harga dari positive integer menjadi positive float dengan beberapa angka di belakang koma.\n\nUntuk efek setelah order juga mulai dimapping di sini, dikarenakan ini nantinya akan berfokus di ND, rekomendasi adalah dibikin class OrderManagement tersendiri yang nantinya bisa dipanggil di beragam tempat, seperti\n- Endpoint CRUD di ND\n- Handling di after save admin.py\n\nUntuk poin ketiga yang model lainnya tapi related ke order pada phase ini masih dicatat terlebih dahulu\n\n*Untuk bagian Class OrderManagement() belum melakukan apapun, tapi sudah discafolding*\n\n(Estimasi pengerjaan 3 hari kerja)\n\nPrepare migration\n\nKetika Order sudah \"bersih\", struktur baru sudah terbentuk maka step yang perlu dilakukan adalah:\n- Menampilkan bagian yang berbeda, dengan pertanyaan\n\t- apakah field lama ada yang inline dengan field yang baru\n\t- apakah datanya bisa langsung dipindahkan?\n\t- apakah datanya harus ditransform terlebih dahulu?\n\nSetelah diketahui jawaban-jawabanya tinggal bagaiaman cara kita migrasinya dan juga mitigasinya\n( estimasi 1 sampai 2 hari kerja )\n\nHasil akhir phase 1 dari Order creation ini\n\n- Order sementara akan bertanggung jawab dengan dirinya sendiri\n- Sudah berhasil mapping fungsi after/before save berpengaruh kemana saja\n- Sudah disiapkan script untuk migrasi sewaktu-waktu dibutuhkan","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/BE-Phase-2":{"title":"","content":"Di phase 2 ini saat dimulai diharapkan sudah selesai dengan phase satu yang meliputi\n- Order bertanggung jawab pada dirinya sendiri\n- Mapping fungsi before/after save\n\nPada saat ini pengerjaan SOP baru dimulai, jadi mulai diperhatikan skenario-skenario yang akan dicover. Sesuai rekomendasi saya yang sebaiknya dibuat misal `class OrderManagement()` Maka object inilah yang akan jadi pintu masuk kepada segala skenarion order. Pada phase 2 ini yang akan difokuskan kepada skema closed subscription, kenapa dipilih skema yang ini dulu:\n- Order hanya sekali buat sehingga kita bisa ignore beberapa hal terkait update yang akan berefek kepada perubahan skema pembayaran invoice\n- Closed subscription akan mengcover baik yang upfront dan juga monthly commitment\n- Order ini juga akan mulai meliputi untuk legacy maupun rukita tenant\nPada pembuatn closed subscription masih berfokus hanya kepada order belum kepada tambahan seperti diskon dan lainnya\n\n(estimasi pengerjaan 2-3 hari kerja)\n\nKetika Closed Subscription sudah dikerjakan, maka saat mengejakan open subscription bisa reuse closed subscription yang monthly commitment, bedanya open tidak memiliki checkout date yang pasti sehingga order akan recurring selama order masih berjalan\n\nSaat proses creation validasi dan lainnya seharusnya sama.\n\n(estimasi pengerjaan 1 hari kerja)\n\n## Shortstay:\n\nDefinisi shortstay adalah order yang memiliki periode tinggal kurang dari 30 hari, setiap periode dibagi ke dalam tier\n\t- tier satu 1-6 hari: penghitungan prorate +100%\n\t- tier dua  7-13 hari: penghitungan prorate +70%\n\t- tier tiga 14-20 hari: penghitungan prorate +50%\n\t- tier empat 21 hari: penghitungan prorate +25%\n\t- tier 5 lebih dari 21 hari: penghitungan prorate + 0%\n\nRumus: (100% + tier_percent ) X daily rate X total days\ncontoh: Daily rate: 100.000,\n```\ntier 1: (100%+100%) X 100.000 X 6\ntier 2: (100%+70%) X 100.000 X 13\n...\n```\n(estimase 1-2 hari kerja )\n## Extend\n\nBefore\n\nUntuk before extend sudah dipastikan extend berupa closed, contoh:\n\n\"Aries\" memiliki fix order Tanggal 1 Januari efektif check in. Maka, \"Aries\" bisa extend lebih awal (early checkin) dengan kondisi:\n- jika room yang dipilih tidak ada order bisa dipilih kapan saja namun dengan checkout H-1 dari efektif checkin\n- jika room memiliki order sebelumnya, checkin H+1 dari checkout order dengan aturan checkout yang sama\nAfter\n\nExtend after bisa dilakukan setelah checkout terkonfirmasi:\n\t - Extend walau kurang dari 21 hari tidak akan terhitung sebagai shortstay\n\t - Extend tidak bisa pindah\n\t - Checkoutnya depend kepada order selanjutnya\n\nT\n\n","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/BE-Phase-3":{"title":"","content":"Phase 3 akan berfokus di transfer room dan regresi semua fitur yang sudah dibuat\n\nTransfer room:\n\n- upgrade\n- downgrade\n\nRegresi:\n\n- create order closed\n\t- upfront\n\t\t- extend upfront before\n\t\t- extend upfront after\n\t\t\t- can change plan\n\t\t- transfer same rv from upfront\n\t\t- transfer upgrade from upfront\n\t\t- transfer downgrade from upfront\n\t- monthly commitment\n\t\t- extend before\n\t\t- extend after\n\t\t\t- can change plan\n\t\t- transfer same rv\n\t\t- transfer upgrade\n\t\t- transfer  dowgrade\n- create order open\n\t- extend before\n\t- extend after\n\t\t- can change plan\n\t- transfer same rv\n\t- transfer upgrade\n\t- transfer downgrade\n\n\n","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Booking-Order-Detail-or-Review-UI":{"title":"","content":"# Booking Order Detail or Review (UI)\n\nStorypoints:: 55\n\n\n### Create Booking Detail Screen (UI)\nStorypoints:: 1\n\n- Create component screen container\n- Assign to MainStack\n\n### Booking Steps Panel (UI)\nStorypoints:: 2\n\n- Develop Booking Steps Panel\n\n### Booking Steps Detail Bottomsheet (UI)\nStorypoints:: 2\n\n- Develop Booking Steps Detail Bottomsheet\n\n### Booking Status Panel (UI)\nStorypoints:: 3\n\n- Render information based on statuses (Order, Invoice, Payment)\n- Have button to check the booking status on certain condition\n\n### Check-in Guidelines Panel (UI)\nStorypoints:: 1\n\n- Create panel for Check-in Guidelines\n\n### Check-in Guidelines Bottomsheet (UI)\nStorypoints:: 2\n\n- Create bottomsheet for Check-in Guidelines\n\n### Invoice Info\nStorypoints:: 2\n\n- Create panel for Invoice Information\n- Have button to open the PDF Viewer (Downloadable) on certain condition\n\n### Downloadable Invoice PDF (UI)\nStorypoints:: 3\n\n- Use https://rukita.atlassian.net/wiki/spaces/RN/pages/2055602261/About+PDF+Viewer\n- Create PDFViewer Screen\n- Accepts params\n\t- URL\n\t- Title (for toolbar title)\n\n### Building Info Panel (UI)\nStorypoints:: 2\n\n- Create panel for Building Info (1)\n\n### Create Bottomsheet for Building Info (UI)\nStorypoints:: 3\n\n- Create bottomsheet for Building Info\n\n\n### Check-in Check-out Info Panel (UI)\nStorypoints:: 5\n\n- Create panel to show Checkin-out information\n- Have check-in time field and can be edited by timepicker\n\n### Tenant Personal Info Panel (UI)\nStorypoints:: 1\n\n- Create panel to show tenant personal information\n\n### Tenant Personal Info Detail Bottomsheet (UI)\nStorypoints:: 5\n\n- Create bottomsheet to show Tenant Personal Info Detail\n\n\n### Input Voucher Panel (UI)\nStorypoints:: 3\n\n- Create panel to show voucher\n- Have state\n\t- Applied Voucher\n\t- Unapplied Voucher\n- Have button to navigate to Select Voucher (Existing Screen)\n\n### Revamp Voucher Screen (UI)\nStorypoints:: 3\n\n- Handle Voucher Sections\n\t- \"Pilih Voucher\"\n\t- \"Voucher belum bisa dipakai\"\n- Add new state for Voucher Card - \"Voucher Kadaluarsa\"\n\n### Input Referral Panel (UI)\nStorypoints:: 2\n\n- Create panel to show referral code\n- Have state\n\t- Applied Referral Code\n\t- Unapplied Referral Code\n- Have button to open [[#Input Referral Bottomsheet UI]]\n\n### Input Referral Bottomsheet (UI)\nStorypoints:: 3\n\n- Create bottomsheet to input Referral Code\n\n### Price Detail Panel (UI)\nStorypoints:: 3\n\n- Create panel to show Price details/breakdown\n- Some field might have modal for detailed information\n\n### Price Detail Bottomsheet (UI)\nStorypoints:: 5\n\n- Create bottomsheet for Price Detail/Breakdown\n\n### Payment Method Selection Panel (UI)\nStorypoints:: 2\n\n- Create panel to select Payment Method.\n- Not selectable if payment method already locked.\n- If no payment method locked, on Press navigate to existing payment method selection screen.\n\n### Policies Panel (UI)\nStorypoints:: 1\n\n- Crate panel to show policies menu\n- Each policies menu have their own detailed modal/bottomsheet\n\n### Policies Bottomsheet (UI)\nStorypoints:: 3\n\n- Create Bottomsheet for \"Kebijakan Pembatalan\"\n- Create Bottomsheet for \"Kebijakan Pengembalian Dana\"\n- Create Bottomsheet for \"Kebijakan Split Invoice\"\n\n### Help/FAQ Panel (UI)\nStorypoints:: 1\n\n- Create panel/section to show \"Help\" information\n- Have button/link to FAQ\n\n### Footer Component (UI)\nStorypoints:: 3\n\n- Have CTA Button (label and function can be changed based on current booking status)\n- Have Grandtotal Information","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Building-Detail-Rooms-Sorting-UI":{"title":"","content":"# Building Detail Rooms Sorting (UI)\n\nStorypoints:: 3\n\n- Sort Room Type and Room Variant on Frontend side\n- Sort Room Variant in Room Type\n- Sort Room Type in Building Detail\n- Sort by\n\t1. Availability\n\t2. Price (ASC)\n- [Hint](https://www.typescriptlang.org/play?#code/MYewdgzgLgBAJgQygmBeGBtAUDXMDeOexYCAtgKYBcMARAEoghkwAqAngA4UwCCnnADYVaAGiLFcAJyZkAagikBLBGCgQa2SdoISd20pRoNZMBctWxeYvfuIIAbgiWCEAIxdKo7GgAZxdjqcysDUMACMAKy+vrY6AL4BgbrJkoZhJsxmiipqMABCNqn2Ti7unt5+ScUwwUqhNOEATNFx2oltkoQ1uOnGjFnmubAAwkU9js6uHoJePjBN1cV1DTCRAGwxncQd+gC6ert43Tp9dAMsHNwFqrfj2jLMQ5YamNvH7wbkGRfZFnnWJapSZlGZzKqfSQrMJNGKxVJHQInGpnTIsZ55QpA5Ig6YVeYAZmxgWhNE2WwRxK6kJI336pgxo3uxVx5VmlQWVP0pLWFOSiMkBx2S2RaTp51MVx4AAUKAhgAALZnER7yHIvTSQ0WpVG-Rl8ZU40p49mErlBEIwuGQgX6bXJXUM9WYw2BVlgjlEml4HlRPmBW06e2BR2DZ1M83ad34iE9WqWmjReH8qlCvAdA5YLCgSAgYQAOkEIAA5gAKRDIfNkBCcUteCgsVAAPhgpdFqqlNHrZHz6SWqsZr27+YH4YgVZrpbAFAAHlAAJJQBtoFttzqj-5QGjTueLhu975U93CbezhdLnvR00wFv+To8nfn-fQw4ASlfenzEFmoVLH+IX4gFIUClqWCCiDAbiviuMAIPm0IwAAtJB8GWjA-54IBwGgeBkHQc2MAAHIAK5kG4FBSKWbj5seFDQchJFkRRYE0ca7jCO+WDxJxWEgWBohQTBoo5tAMAAGZKFI0DSpavBoLBI6yIOAD8+YYL4eyofUFB6CJsASVJUAydp+TydRG7DBAqnqZpL56FIFBQMRUhgOJknSbJSFuYZxmhPkXEfl+P4UH+vE4QJ+EtsJ4CiVecwjCAxFqHJ6BwRZLwjhQcDEb+pbBBQDgQcAzlSJF8YFTAADUrbFVIUisVM7E8MpMC+DAjTQaIvivgA3LpMWwHF3gJUlUCmeg5lKWOmXZbl+WFTAtWlTB81VTVJUNaCwgwC1bUdTAXW9VmKqOc5rlDewI3JV5F1XWNAVZq+QA)\n\n","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Building-Detail-Select-Room-For-Booking-UI":{"title":"","content":"# Building Detail - Select Room For Booking (UI)\n\nStorypoints:: 2\n\n- Logic to select room\n- Render footer based on Checkin-out Date and Selected Room\n- Depends on [[Revamp Building Room Card (UI)]]","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Cancel-Payment-VA-Mutation":{"title":"","content":"# Cancel Payment VA (Mutation)\n\nStorypoints:: 3\n\n- Call POST/Mutation to cancel payment method (used only if order/invoice already generated)","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Change-Booking-History-Menu-Label":{"title":"","content":"# Change Booking History Menu Label\n\nStorypoints:: 1\n\n- Change label of current Booking History Menu at ProfileMenulist.tsx\n- Change “riwayat pesanan kost” page to “waiting list”","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Change-Tagihan-Menu-Label":{"title":"","content":"# Change Tagihan Menu Label\n\nStorypoints:: 1\n\n- Change menu label Tagihan -\u003e Tagihan Sewa","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Check-pre-requisite-rule-before-booking":{"title":"","content":"# Check pre-requisite rule before booking\n\nStorypoints:: 5\nAssignee:: [[Ryan]]\n\n- Check login condition\n- Check Tenant Personal Info\n- Handle resume user journey after login/signup\n\n## Notes\n\n- [!] Handling resume journey user after login/signup and then check the room availability is tricky","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Create-new-modal-Select-Checkin-out-Modal-UI":{"title":"","content":"# Create new modal - Select Checkin-out Modal (UI)\n\nStorypoints:: 5\n\n- Use Calendar component\n- Check-in\n\t- Min: Tomorrow\n\t- Max: 30 days from Today\n- Check-out\n\t- Min: 30 days from Check-in\n\t- Max: No limit\n- Check-out \"shortcut\" Select\n\t- 30 Hari\n\t- 60 Hari\n\t- 90 Hari\n\t- Piling Tanggal Manual","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Fix-use-voucher-from-Voucher-Detail-behavior":{"title":"","content":"# Fix use voucher from Voucher Detail behavior\n\nStorypoints:: 3\n\n- Fix use voucher (from voucher detail) behavior\n- Should navigate to Invoice List","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Get-Latest-Booking-Status-API":{"title":"","content":"# Get Latest Booking Status (API)\n\nStorypoints:: 2\n\n- Call mutation/POST\n- Refresh whole ","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Get-Vouchers-Query":{"title":"","content":"# Get Vouchers (Query)\n\nStorypoints:: 2\n\n- Reuse existing vouchers query","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Get-and-Update-Tenant-Personal-Info-at-Profile-Query-+-Mutation":{"title":"","content":"# Get and Update Tenant Personal Info at Profile (Query + Mutation)\n\nStorypoints:: 3\n\n- Get existing data and populate to it's field\n- Send POST/Mutation request to update the Tenant Profile","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Handle-New-Booking-Dot-Indicator":{"title":"","content":"# Handle New Booking Dot Indicator\n\nStorypoints:: 2\n\n- Need new query\n- If there are new unpaid Bookings, show the dot indicator at BottomTab Account and My Booking Menu List","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Handle-notification-Online-Booking-First-Invoice":{"title":"","content":"# Handle notification (Online Booking, First Invoice)\n\nStorypoints:: 2\n\n- Handle new notif\\_type (_TBD_)\n- Navigate to Booking Detail","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Implement-Calendar-Filters-Building-Detail-UI":{"title":"","content":"# Implement Calendar Filters Building Detail (UI)\n\nStorypoints:: 3\n\n- Implement Checkin-out date field (Pressable)\n\t- On press, open select check-in out modal [[Create new modal - Select Checkin-out Modal (UI)]]\n- Have 2 states\n\t- No Checkin-out date selected\n\t- With checkin-out date selected\n- If Building Detail screeen params ([[Add new parameter Checkin-out date on Building Detail]]) have checkin-out, set those dates as default","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Implement-Calendar-Filters-on-Building-List-UI":{"title":"","content":"# Implement Calendar Filters on Building List\n\nStorypoints:: 3\n\n- Implement Checkin-out date field (Pressable)\n\t- On press, open select check-in out modal [[Create new modal - Select Checkin-out Modal (UI)]]\n\t- Sticky top\n- Have 2 states\n\t- No Checkin-out date selected\n\t- With checkin-out date selected","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Mobile-App-SOP-Development":{"title":"","content":"# Mobile App SOP Development\nOur plan to develop SOP + Online Booking\n\n# Tasks\n\n## Enable search “room availability function” at all search/location/collection pages\n- Explore: Calendar Filters (UI) (5)\n- New: [[Implement Calendar Filters on Building List (UI)]] (3)\n- New: [[Create new modal - Select Checkin-out Modal (UI)]] (5)\n- New: [[Search Buildings Based on Calendar Filter (Query)]] (3)\n\t- [i] [[Mobile App SOP Development#Filter Buildings Availability]]\n- Revamp: [[Availability Badge Visibility on Building Card (UI)]] (1)\n- Revamp: [[Availability Badge Visibility on Mapview Building Card (UI)]] (1)\n\n## Enable search “room availability function” at building pages\n- New: [[Implement Calendar Filters Building Detail (UI)]] (3)\n\t- [i] [[Mobile App SOP Development#Filter Rooms Availability]]\n- New: [[Add new parameter Checkin-out date on Building Detail]] (1)\n- Revamp: [[Revamp Building Room Card (UI)]] (3)\n- New: [[Building Detail Rooms Sorting (UI)]] (3)\n\n## Remove current availability labeling \n- See [[Mobile App SOP Development#Enable search “room availability function” at building pages]]\n- See [[Mobile App SOP Development#Enable search “room availability function” at all search location collection pages]]\n\n## Enable user to select the available room\n\n- New: [[Building Detail - Select Room For Booking (UI)]] (2)\n\n## Booking Prerequisites logic\n- New: [[Check pre-requisite rule before booking]] (5)\n\t- Check login condition\n\t- Check tenant personal info (Via API or Check manually)\n\t- Handle resume user journey after login/signup\n- New: [[Tenant Personal Info Form (UI)]] (5)\n- New: [[Tenant Personal Info Form (Query + Mutation)]] (5)\n\n## Develop (review)detail order page\n- New: [[Booking Order Detail or Review (UI)]] (55)\n- Reuse: [[Perform Check Referral (Mutation)]] (2)\n\t- [i] Use existing referral check mutation\n- Reuse: [[Get Vouchers (Query)]] (2)\n\t- [i] Navigate to Vouchers Screen and Query the Vouchers\n- New: [[Order Booking for Review (Query)]] (5)\n\t- [i] [[Mobile App SOP Development#Params Screen for Review State]]\n\t- [i] [[Mobile App SOP Development#Invoice Calculation]]\n- New: [[Perform Booking (Mutation)]] (5)\n\t- [i] [[Mobile App SOP Development#Create Booking Order]]\n\n## Recheck room availability \n- [ ] New: [[Perform check room availability (Mutation)]] (3)\n\t- [i] Will show modal and prevent to go to next flow\n\t\n## Recheck room price\n- New: [[Perform check room price changes (Mutation)]] (3)\n\t- [i] Will show snackbar\n\t- [i] Might prevent to to to next flow\n\n## Develop detail order page\n- See [[#Develop review detail order page]]\n- New: [[Order Booking for Detail (Query)]] (5)\n\t- [i] [[Mobile App SOP Development#Params Screen for Detail State]]\n\n## Enable user to select the payment method\n- New: [[Perform Select Payment VA (Mutation)]] (3)\n\t- [i] [[Mobile App SOP Development#Select Payment VA]]\n\n## Enable user to pay his order using midtrans with given timeline\n- _TBD_\n\n## Enable user to change their payment method\n- New: [[Cancel Payment VA (Mutation)]] (3)\n\t- [i] [[Mobile App SOP Development#Change Cancel Payment VA]]\n\n## Show user payment status and the action needed from user at each stage\n\n- _TBD_\n\n## Develop function to enable user to get their latest payment status\n\n- See [[Mobile App SOP Development#Develop review detail order page]]\n- New: [[Get Latest Booking Status (API)]] (2)\n\n## Enable user to see and download the invoice PDF\n- See [[Mobile App SOP Development#Develop review detail order page]]\n\n## Add more informations at EDIT profile\n- Revamp: [[Tenant Personal Info at Profile (UI)]] (3)\n- Revamp: [[Get and Update Tenant Personal Info at Profile (Query + Mutation)]] (3)\n- ~~Verify Phone Number with OTP (15)~~\n\n## Develop new page “my booking”\n- New: [[My Booking List (UI)]] (7)\n\n## Change “tagihan” page to “Tagihan sewa”\n- Revamp: [[Change Tagihan Menu Label]] (1)\n\n## “Riwayat pesanan kost” change it to “Waiting list”\n- Revamp: [[Change Booking History Menu Label]] (1)\n\t- [i] Decide to change the menu label\n\t\n## remove “ajukan sewa” button from wishlist\n\n- Revamp: [[Remove Card Buttons on Wishlist Card]] (1)\n\n\n## Current Recurring Invoice Revamp\n- Revamp: [[Remapping Invoice Detail Statuses]] (5)\n\t- [?] Need to make sure UI Invoice Detail with new SOP Statuses Mapping\n\t- [i] The different is only on Expired x Failed payment status\n- Revamp: [[Remapping Invoice AddOn Detail Statuses]] (5)\n\t- [?] Need to make sure UI Invoice Detail with new SOP Statuses Mapping\n\t- [i] The different is only on Expired x Failed payment status\n\n---\n\nTask not listed on requirements\n\n## Current Voucher Detail Revamp\n- Revamp: [[Fix use voucher from Voucher Detail behavior]] (3)\n\t- [i] If using one button, On user use voucher, will either go to Invoice List or My Booking List\n\t- [i] If using two buttons, On user use voucher, will either choose to go to Invoice List or My Booking List\n\t- [i] Decide to go to current Recurring Invoice List\n\n## Handling New Notification\n- New: [[Handle notification (Online Booking, First Invoice)]] (2)\n- New: [[Handle New Booking Dot Indicator]] (2)\n\n\n# Additional Info\n\n#### About Check-in Check-out Selection:\n- Frontend and Backend will have their own way to work with check-in and check-out date.\n- Frontend just need to send the check-in and check-out date to backend, regardless how frontend draw the UI to user.\n- Frontend will have some shortcut to produce a check-out, user need to select the check-in date first, then select how many days (30, 60, 90, or choose the date manually dst)\n\n#### Filter Buildings Availability:\n- **Payload**\n\t- Check-in Date\n\t- Check-out Date\n- **Response**\n\t- [i] Dynamic Value of Availability\n\t\n#### Filter Rooms Availability:\n- **Payload**\n\t- Check-in Date\n\t- Check-out Date\n- **Response**\n\t- [i] Array of BuildingType\n\t- [i] Dynamic Value of Availability\n\n#### Params Screen for Review State:\n- type: \"REVIEW\"\n- Check-in Date + Time\n- Check-out Date\n- Building Data (There is a lot of data to send through, maybe we just need the IDs and query to the backend)\n  - Building Slug\n  - Room ID (Not sure if we have endpoint for this?)\n  - Room Price (To query order price breakdown)\n\n#### Params Screen for Detail State:\n- type: \"DETAIL\"\n- Order ID (Maybe we only need Invoice ID)\n- Invoice ID\n\n#### Invoice Calculation:\n- **Payload**\n\t- Check-in Date\n\t- Check-out Date\n\t- Building Id\n\t- Room Id\n\t- Voucher Id(s)\n\t- Referral Code\n- **Response**\n\t- Price Breakdown\n\t\t- [?] Structures\n\n#### Create Booking Order\n- **Payload**\n\t- Check-in Date\n\t- Check-out Date\n\t- Building Id\n\t- Room Id\n\t- Current availability\n\t- Price\n\t- Voucher Id(s) - If Applied\n\t- Referral Code - If Applied and Code Valid\n- **Response**\n\t- Message\n\t- Code\n\t\t- Voucher Issues\n\t\t- Referral Issues\n\t\t- TBD\n\t- Midtrans Token\n\n#### Select Payment VA\n- **Payload**\n\t- TBD\n- **Response**\n\t- TBD\n\n#### Change/Cancel Payment VA\n- **Payload**\n\t- TBD\n- **Response**\n\t- TBD\n\t\n\n# Storypoints\n```\napprox_sp:: 161\nsprints:: 5\ndevelopment_days:: 8\ndevs:: 3\nmandays_each_sprint:: 24 (development_days * devs)\ntotal_mandays:: 120 (mandays_each_sprint * sprints)\nvpd:: 5\ncap:: 600 (total_mandays * vpd)\n```\n\n# TODO\n- [x] Explore Calendar Component\n- [x] Explore Downloadable PDF\n- [x] Sync with [[Aries]] about payload and response\n\t- [x] Building Listing Check-in Check-out Filter\n\t- [x] Room Listing Check-in Check-out Filter\n\t- [x] Invoice Price Breakdown\n\t\t- [x] Building Price, Discount, Promo \n\t\t- [x] Voucher and Referral\n\t- [x] Create Booking Order\n\t- [x] Select Payment VA\n\t- [x] Change/Cancel Payment VA\n- [-] Read and Plan about Tenant Phone Number Verification\n- [/] Update timeline\n- [ ] Make sure Building Query to BE\n- [ ] Make sure Room Availability Query to BE\n\t- [i] Existing room data is tight to Building Detail Query\n- [ ] Make sure `isTenant` condition\n- [ ] Make sure UI current invoice detail status to [[Ling]]\n\t- [x] Mapping Statuses\n\t- [ ] [[Ryan]] Check current mapping with new status at https://docs.google.com/spreadsheets/d/1lb9K039YcjFLtV3wTPpy6A0RUquIKW_Y9H8wZsn-r2Q/edit#gid=998714156\n\n\n# References\n- [Flowchart - Miro](https://miro.com/app/board/uXjVOyP5eNI=/?moveToWidget=3458764530915457372\u0026cot=14)\n- [The big plan - Figjam](https://www.figma.com/file/VTqo97vMpUwJuFgGVNOVXu/SOP)\n- [Order Scenario - Spreadsheets](https://docs.google.com/spreadsheets/d/1tHNTnCrc4E1g4uLl9p8DKgFWBqKwCVXqbi0nCr4Flcc/edit#gid=534091822)\n- [Online Booking Requirements - Wiki](https://rukita.atlassian.net/wiki/spaces/RN/pages/2047508543/Online+booking)\n- [First Invoice Requirements - Wiki](https://rukita.atlassian.net/wiki/spaces/RN/pages/1981841409/EPIC+-+Enable+1st+Payment+UIUX+Enable+First+Payment+to+Be+Paid+Using+Midtrans)\n- [Order/Invoice/Payment Status Mapping - Spreadsheets](https://docs.google.com/spreadsheets/d/1lb9K039YcjFLtV3wTPpy6A0RUquIKW_Y9H8wZsn-r2Q/edit#gid=998714156)\n- [(Deprecapted) Timeline - Spreadsheets](https://docs.google.com/spreadsheets/d/1ARZOUyf01BmpLZC5hobokjW7p4AQxMPRrEg5ymIWuOs/edit#gid=717484225)\n- [Remove availability badge (hifi)](https://www.figma.com/file/c9zG11MpcTO7hyr3YgYX9Z/MASTER---Explore?node-id=3635%3A234385)\n- [Filter checkin-out di building list (hifi)](https://www.figma.com/file/c9zG11MpcTO7hyr3YgYX9Z/MASTER---Explore?node-id=3635%3A234392)\n- [Building details UX (lofi)](https://miro.com/app/board/uXjVOyP5eNI=/?moveToWidget=3458764531334127431\u0026cot=14)\n- [Order Detail (Lofi)](https://miro.com/app/board/uXjVOyP5eNI=/?moveToWidget=3458764531257154061\u0026cot=14)\n\n# Backlinks\n- [[New Plan - Online Booking with Existing Condition]]\n- [[2022-08-12 - Online Booking Flow Sync]]\n- [[Personal Recap]]","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/My-Booking-List-UI":{"title":"","content":"# My Booking List (UI)\n\nStorypoints:: 7\n\n### Create My Booking Screen (UI)\nStorypoints:: 2\n\n- Create component screen container\n- Assign to MainStack\n\n### Create My Booking Card (UI)\nStorypoints:: 5\n\n- Create component card\n- Implement to [[#Create My Booking Screen UI]]","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/New-Plan-Online-Booking-with-Existing-Condition":{"title":"","content":"# New Plan - Online Booking with Existing Condition\n### Plan\nClose - Upfront\n\n### Payload\n- Current calculated price (for validation)\n- Source: `APP`\n\n### Todos\n- [ ] [[Aries]] to check payload needed to book via app\n- [ ] [[Gun]] to create flow for online booking\n- [ ] Determine the booking period (Prorate, etc)\n\n## Backlinks\n- [[2022-08-12 - Online Booking Flow Sync]]","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Order-Booking-for-Detail-Query":{"title":"","content":"# Order Booking for Detail (Query \u0026 Logic)\n\nStorypoints:: 5\n\n![[Mobile App SOP Development#Params Screen for Detail State]]\n- Get data:\n\t- Invoice\n\t- Order\n\t- Building (w/ room variant, room)\n\t- Tenant\n- Logic to show/hide the UIs","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Order-Booking-for-Review-Query":{"title":"","content":"# Order Booking for Review (Query \u0026 Logic)\n\nStorypoints:: 5\n\n![[Mobile App SOP Development#Params Screen for Review State]]\n- Get data:\n\t- Building (w/ room variant, room)\n\t- Tenant\n\t- Price Breakdown (Different endpoint -\u003e [[Mobile App SOP Development#Invoice Calculation]])\n- Logic to show/hide the UIs","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Perform-Booking-Mutation":{"title":"","content":"# Perform Booking (Mutation)\n\nStorypoints:: 5\n\n![[Mobile App SOP Development#Create Booking Order]]\n- Call booking POST/Mutation request","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Perform-Check-Referral-Mutation":{"title":"","content":"# Perform Check Referral (Mutation)\n\nStorypoints:: 2\n\n- Check/Validate referral code\n- We will get some response from backend (just for illustrations)\n\t- OK -\u003e means referral code is correct and haven't been used.\n\t- Wrong -\u003e means referral code is wrong.\n\t- Used -\u003e means referral code have been used before.","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Perform-Select-Payment-VA-Mutation":{"title":"","content":"# Perform Select Payment VA (Mutation)\n\nStorypoints:: 3\n\n- Call POST/Mutation to select payment method (used only if order/invoice already generated)","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Perform-check-room-availability-Mutation":{"title":"","content":"# Perform check room availability (Mutation)\n\nStorypoints:: 3\n\n- Check room variant availability\n- This Mutation is reusable and might be called several times\n- We will get some indicator whether the room variant is still available or not\n\t- If it is not available, prevent user to go to the next flow and show a modal.\n","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Perform-check-room-price-changes-Mutation":{"title":"","content":"# Perform check room price changes (Mutation)\n\nStorypoints:: 3\n\n- Check room price changes\n- This Mutation is reusable and might be called several times\n- We will get some indicator whether the room price changed or not\n\t- If it changed, show the snackbar\n\t- If it changed on Review Booking Order, prevent user to go to the next flow and show Modal","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Personal-Recap":{"title":"","content":"# Subscription Type\nAda beberapa tipe _subscription_\n\n### 1. Open Subscription\nTipe subscription terbuka, artinya tanpa tanggal _checkout_ yang pasti. Invoice akan ditagihkan dan dibayar setiap bulannya sampai tenant menentukan tanggal untuk _checkout_.\n\n### 2. Closed Subscription\nTipe subscription tertutup, artinya tenant sudah memastikan kapan dia akan _checkout_ (end date).\n\nAda beberapa bentuk pembayaran untuk Closed Subscription, yaitu _Upfront_ dan _Monthly Commitment_.\n\nPembayaran _Upfront_ artinya tenant membayar sepenuhnya biaya sewa diawal.\n\nPembayaran _Monthly Commitment_ artinya tenant membayar tagihannya secara bulanan, namun dengan komitmen untuk _stay_ selama x bulan. Tanggal _checkout_ tidak terikat dengan nilai _Monthly Commitment_ ini.\n\n\n# Order\n### 1. New Order\nOrder yang tidak berkaitan dengan tenant dan atau order sebelum atau sesudahnya.\n\n\u003e [!Additional Info]-\n\u003e - Gap antar order di building dan room yang sama minimal 2 hari\n\n### 2. Extend Order\nOrder dengan tenant, room, dan building yang sama seperti sebelum atau sesudahnya. Order harus saling menempel satu sama lain.\n\n\u003e [!Additional Info]-\n\u003e - Date Gap : 1 hari (check in date h+1)\n\u003e - room sama\n\u003e - tenant sama  \n\u003e - extend dengan perhitungan short stay hanya mungkin jika order sebelum atau setelahnya adalah short stay  \n\u003e - jika order sebelumnya monthly maka tidak bisa short stay\n\nAda dua type Extend Order\n\n##### 1. Before upcoming order\nArtinya tenant melakukan extend di tanggal sebelum order yang sudah ia miliki.\n\n- Extend before hanya untuk closed subscription upfront \n- harus sudah confirm checkout\n- checkout tenant h-1 dari checkin date sebelumnya (resched early check-in)\n\t\n##### 2. After ongoing order\nArtinya tenant melakukan extend di tanggal sesudah order yang sedang berjalan.\n\n- h+1 checkout\n\n### 3. Transfer Room\nOrder dengan tenant yang sama, dengan beda room. Disediakan untuk memenuhi kasus tenant ganti kamar.\n\nUntuk kasus berbeda building, tidak akan kita _cover_ dulu di Transfer Room. Bisa menggunakan New Order jika ingin pindah berbeda building.\n\n\u003e [!Additional Info]-\n\u003e - Date Gap : 1 hari (h+1 dari checkout date)\n\u003e - no deposit\n\u003e - tenant sama\n\u003e - room sama\n\u003e - stay periode sama\n\u003e - checkin date = transfer date\n\u003e - checkout date = auto ambil dari checkout order sebelumnya\n\nAda tiga jenis Transfer Room yaitu\n\n- Upgrade\n- Same Room Variant\n- Downgrade\n\n\n# Tenant Type\n### 1. Legacy Tenant\nPenghuni lama sebelum rukita ambil alih buildingnya.\n\n\u003e [!Additional Info]-\n\u003e - Join Date (TBC) ?\n\u003e - Last paid to tenant  \n\u003e - Landlord Price (manual)\n\u003e - Tidak bisa menggunakan monthly commitment  \n\u003e - Last Payment to Landlord (date)  \n\u003e - First Stay in Unit (informational)   \n\u003e - Check in Date (\u003e= live/soft live date)  \n\u003e - Tanpa Deposit  \n\u003e - Status: Waiting --\u003e Deposit Payment Received --\u003e Ongoing  \n\u003e - Jika ingin convert ke rukita tenant, maka harus buat order baru  \n\u003e - Jika tenant tidak akan lanjut ke rukita dan checkout di masa setelah live dengan rukita, maka c/o date akan = last payment to landlord dan sistem hanya akan generate invoice ke landlord = close sub upfront\n\n### 2. Rukita Tenant\nPenghuni building Rukita.\n\n\u003e [!Additional Info]-\n\u003e - deposit = manual free text number   \n\u003e - first payment bisa upfront, prorate, first full month   \n\u003e - bisa split payment   \n\u003e - sales bisa memilih apakah bisa split payment jika check in date lebih dari 7 hari   \n\u003e - pembayaran pertama 24 jam setelah order dibuat atau check in time = 08:00 am   \n\u003e - dan semua pembayaran harus dilunasi h-2   \n\u003e - flag for close sub short stay (current hidden)   \n\u003e - short stay di hitung dari stay period (Check-in Check-in date)\n\n### 3. Rukita Staff - Paying\n_TBD_\n\n### 4. Rukita Staff - Free of Charge\n_TBD_\n\n# Discount, Promo and Voucher\nAda tiga jenis pengurangan pembayaran yaitu Discount, Promo dan Voucher.\n\nDiscount dan Promo memiliki _behavior_ yang mirip sedangkan voucher cukup berbeda dibanding yang lainnya.\n\n\u003e [!Additional Info]-\n\u003e  - Budget Allocation\n\u003e  - Budget Spent\n\u003e    - Budget Spent masih bisa melebihi Budget Allocation\n\u003e    - Penambahan Budget Allocation akan dilakukan saat order create\n\u003e    - Jika Budget Spent \u003e Budget Allocation, promo/diskon akan hilang atau tidak bisa digunakan.\n\u003e    - Penambahan Budget Spent ditambahkan ketika order create.\n\n\t\n# AddOns\n- Pembayaran mengikuti subscription type\n- Untuk Close Subscription, harus ada End Date dan tidak boleh lebih dari Checkout Date\n- Tidak dapat dipotong oleh Discount, Promo atau Voucher\n\n# Tenant Invoice\nBukti pemesanan room yang perlu dibayar oleh Tenant. Diantaranya terdapat informasi:\n- Tenant Data\n- Stay Information (Building, Room, Add-ons, Check-in date)\n- Payment Status (Deposit \u0026 1st Month Rent)\n\n# The Big Plan\n\u003e [!Plan]-\n\u003e ![[SOP.png]]\n\n- Status Mixing (Ongoing)\n- Order Creation\n- Discount, Promo and Voucher\n- Add-ons\n- Cancellation (Low Priority)\n- Early Checkout\n- Refund (Low Priority)\n- Price Update\n- Online Booking (Main Goals: Rukita)\n- First Invoice (Main Goals: Product \u0026 Tech)\n- Internal Dashboard\n\n**N1**: _New Order_ Legacy Tenant Open Subscription\n**N2**: _New Order_ Legacy Tenant Close Subscription (Upfront)\n**N3**: _New Order_ Rukita Tenant Open Subscription\n**N4**: _New Order_ Rukita Tenant Close Subscription (Upfront)\n**N5**: _New Order_ Rukita Tenant Close Subscription (Monthly Commitment)\n\n**E1**: _Extend Order_ Before Upcoming Order\n**E2**: _Extend Order_ After Upcoming Order\n\n**T1**: _Transfer Order_ Upgrade\n**T2**: _Transfer Order_ Same Room Variant\n**T3**: _Transfer Order_ Downgrade\n\n","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Remapping-Invoice-AddOn-Detail-Statuses":{"title":"","content":"# Remapping Invoice AddOn Detail Statuses\n\nStorypoints: 5\nAssignee: [[Ryan]]\n\n- Check Current Invoice Addon behavior with new Invoice with SOP requirements","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Remapping-Invoice-Detail-Statuses":{"title":"","content":"# Remapping Invoice Detail Statuses\n\nStorypoints: 5\nAssignee: [[Ryan]]\n\n- Check Current Invoice Detail (Recurring) behavior with new Invoice with SOP requirements","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Remove-Card-Buttons-on-Wishlist-Card":{"title":"","content":"# Remove Card Buttons on Wishlist Card\n\nStorypoints:: 1\n\n- Remove buttons on Wishlist Card","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Revamp-Building-Room-Card-UI":{"title":"","content":"# Revamp Building Room Card (UI)\n\nStorypoints:: 3\n\n- Room Availability\n\t- Default invisible\n\t- Only show visibility badge when checkin-out date are selected\n\t- Keep UI and logic as is\n- Additional Footer Room Card UI changes","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Search-Buildings-Based-on-Calendar-Filter-Query":{"title":"","content":"# Search Buildings Based on Calendar Filter (Query)\n\nStorypoints:: 3\n\n- Call GET/Query to new endpoint\n- Implements on `BuildingList.tsx`\n- See: [[Mobile App SOP Development#Filter Buildings Availability]]","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Tenant-Personal-Info-Form-Query-+-Mutation":{"title":"","content":"# Tenant Personal Info Form (Query + Mutation)\n\nStorypoints: 5\n\n- Get existing data and populate to it's field\n- Send POST/Mutation request to update the Tenant Personal Info","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Tenant-Personal-Info-Form-UI":{"title":"","content":"# Tenant Personal Info Form (UI)\n\nStorypoints:: 5\n\n- Expected Fields: https://rukita.atlassian.net/wiki/spaces/RN/pages/2047508543/Online+booking#:~:text=Below%20are%20the%20informations%20that%20are%20MANDATORY\n- Use RukiUI Components","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null},"/project/SOP/Tenant-Personal-Info-at-Profile-UI":{"title":"","content":"# Tenant Personal Info at Profile (UI)\n\nStorypoints: 3\n\n- Add these fields https://rukita.atlassian.net/wiki/spaces/RN/pages/2047508543/Online+booking#:~:text=Add%20more%20informations%20at%20EDIT%20profile to exisitng Edit Profile Screen","lastmodified":"2022-08-21T09:37:50.42096855Z","tags":null}}